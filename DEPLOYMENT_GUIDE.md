# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é Django Blog Application

## üöÄ –û–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–µ–ø–ª–æ—è

–ù–∞—à CI/CD pipeline —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π:

### üåø –í–µ—Ç–∫–∏ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –í–µ—Ç–∫–∞ | –û–∫—Ä—É–∂–µ–Ω–∏–µ | –ü–æ—Ä—Ç | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | –ê–¥–º–∏–Ω |
|-------|-----------|------|-------------|-------|
| `feature` | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | - | - | - |
| `dev` | Development | 8001 | blog_dev_db | dev_admin/dev123 |
| `main` | Production | 8000 | blog_db | admin/admin123 |

## üîÑ Workflow –¥–µ–ø–ª–æ—è

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Feature –≤–µ—Ç–∫–∞)
```bash
# –°–æ–∑–¥–∞–µ–º feature –≤–µ—Ç–∫—É
git checkout dev
git pull origin dev
git checkout -b feature/new-feature

# –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
# ... –¥–µ–ª–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è ...

# –ö–æ–º–º–∏—Ç–∏–º –∏ –ø—É—à–∏–º
git add .
git commit -m "Add new feature: description"
git push -u origin feature/new-feature

# –°–æ–∑–¥–∞–µ–º Pull Request –≤ GitHub
```

### 2. –î–µ–ø–ª–æ–π –≤ Development
- –ü—Ä–∏ push –≤ `dev` –≤–µ—Ç–∫—É Jenkins –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
  - ‚úÖ –î–µ–ø–ª–æ–∏—Ç –≤ dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 8001)
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–î–æ—Å—Ç—É–ø –∫ dev –æ–∫—Ä—É–∂–µ–Ω–∏—é:**
- URL: http://localhost:8001
- –ê–¥–º–∏–Ω: dev_admin / dev123
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5433

### 3. –î–µ–ø–ª–æ–π –≤ Production
- –ü—Ä–∏ push –≤ `main` –≤–µ—Ç–∫—É Jenkins –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - ‚úÖ –î–µ–ø–ª–æ–∏—Ç –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 8000)
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–î–æ—Å—Ç—É–ø –∫ production –æ–∫—Ä—É–∂–µ–Ω–∏—é:**
- URL: http://localhost:8000
- –ê–¥–º–∏–Ω: admin / admin123
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5432

## üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Development (docker-compose.dev.yml)
```yaml
services:
  web:
    ports:
      - "8001:8000"
    environment:
      - DEBUG=True
  db:
    ports:
      - "5433:5432"
    environment:
      POSTGRES_DB: blog_dev_db
```

### Production (docker-compose.yml)
```yaml
services:
  web:
    ports:
      - "8000:8000"
  db:
    ports:
      - "5432:5432"
    environment:
      POSTGRES_DB: blog_db
```

## üìß –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –£—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π
- **–¢–µ–º–∞**: ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ç–∫–µ, –∫–æ–º–º–∏—Ç–µ, URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –û—à–∏–±–∫–∞ –¥–µ–ø–ª–æ—è
- **–¢–µ–º–∞**: ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏/–¥–µ–ø–ª–æ—è
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**: –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ–≥–∏ Jenkins

## üîß –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

### Development
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dev –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose -f docker-compose.dev.yml down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ
docker-compose -f docker-compose.dev.yml up -d

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose -f docker-compose.dev.yml exec web python manage.py migrate

# –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
docker-compose -f docker-compose.dev.yml exec web python manage.py shell -c "from django.contrib.auth.models import User; User.objects.create_superuser('dev_admin', 'dev@example.com', 'dev123')"
```

### Production
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å production –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å production –æ–∫—Ä—É–∂–µ–Ω–∏–µ
docker-compose up -d

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec web python manage.py migrate

# –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
docker-compose exec web python manage.py shell -c "from django.contrib.auth.models import User; User.objects.create_superuser('admin', 'admin@example.com', 'admin123')"
```

## üè• Health Check

Pipeline –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- **–ü–æ–ø—ã—Ç–∫–∏**: 5 –ø–æ–ø—ã—Ç–æ–∫ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 10 —Å–µ–∫—É–Ω–¥
- **–ú–µ—Ç–æ–¥**: HTTP –∑–∞–ø—Ä–æ—Å –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É URL
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: UNSTABLE –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

## üö® –û—Ç–∫–∞—Ç (Rollback)

–ü—Ä–∏ –æ—à–∏–±–∫–µ –¥–µ–ø–ª–æ—è Jenkins –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ Jenkins
- **Console Output**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **Build Artifacts**: build_info.txt —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–±–æ—Ä–∫–µ

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å dev
docker-compose -f docker-compose.dev.yml ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å production
docker-compose ps

# –õ–æ–≥–∏ dev
docker-compose -f docker-compose.dev.yml logs -f web

# –õ–æ–≥–∏ production
docker-compose logs -f web
```

## üîç Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ü–æ—Ä—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
   ```bash
   # –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
   netstat -ano | findstr :8000
   # –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
   taskkill /PID <PID> /F
   ```

2. **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è**
   ```bash
   # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
   docker-compose down --remove-orphans
   docker system prune -f
   # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
   docker-compose up -d
   ```

3. **–û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π**
   ```bash
   # –°–±—Ä–æ—Å–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
   docker-compose exec web python manage.py migrate --fake-initial
   ```

4. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã
   icacls . /grant Everyone:F /T
   ```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose restart

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
docker-compose build --no-cache

# –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -f

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f
```

## üìù –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ dev** –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ production
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ —Å—Ç–∞—Ç—É—Å–µ –¥–µ–ø–ª–æ—è
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º
4. **–î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∫—Ä—É–ø–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥–∏** –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ª–∏–∑–æ–≤

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å load balancing
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ (ELK Stack)

